<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For BÃ©rengÃ¨re ğŸ</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background-color: #f7f9f2; cursor: none; }
        #header {
            position: absolute;
            top: 10%;
            width: 100%;
            text-align: center;
            font-family: 'Comic Sans MS', 'Helvetica Neue', cursive;
            pointer-events: none;
            z-index: 10;
        }
        h1 { color: #4a6b5c; font-size: 42px; margin: 0; }
        p { color: #8a9b8e; font-size: 20px; margin-top: 5px; }
    </style>
</head>
<body>
    <div id="header">
        <h1>To BÃ©rengÃ¨re â¤ï¸</h1>
        <p>Our BE</p>
    </div>

<script>
let elephants = [];
let apples = [];
let wishes = [
    "Nous t'aimons ! â¤ï¸",
    "Bonne continuation !",
    "Tu vas nous manquer !",
    "Meilleurs voeux !",
    "Merci pour tout, BÃ©rengÃ¨re !",
    "Une nouvelle aventure t'attend !",
    "Garde ton sourire ! ğŸ",
    "On reste en contact !"
];

function setup() {
    createCanvas(windowWidth, windowHeight);
    // åˆå§‹åŒ–10åªå¥”è·‘çš„å°è±¡
    for (let i = 0; i < 10; i++) {
        elephants.push(new Elephant());
    }
}

function draw() {
    background('#f7f9f2'); 

    // ç»˜åˆ¶è‹¹æœç¥ç¦å¡
    for (let i = apples.length - 1; i >= 0; i--) {
        apples[i].display();
        apples[i].update();
        if (apples[i].isFinished()) apples.splice(i, 1);
    }

    // ç»˜åˆ¶å°è±¡
    for (let e of elephants) {
        e.run();
        e.display();
    }

    // è‡ªå®šä¹‰æ£•è‰²é¼ æ ‡
    fill('#8b5e3c');
    noStroke();
    circle(mouseX, mouseY, 15);
}

function mousePressed() {
    // æ£€æŸ¥æ˜¯å¦ç‚¹å‡»äº†å°è±¡
    for (let i = elephants.length - 1; i >= 0; i--) {
        let d = dist(mouseX, mouseY, elephants[i].pos.x, elephants[i].pos.y);
        if (d < 40) {
            // ç‚¹å‡»å¤„ç”Ÿæˆè‹¹æœ
            apples.push(new AppleCard(elephants[i].pos.x, elephants[i].pos.y));
            // å°è±¡ç¬é—´ç§»åŠ¨åˆ°éšæœºä½ç½®é‡æ–°è·‘
            elephants[i].pos = createVector(random(width), random(height));
        }
    }
}

class Elephant {
    constructor() {
        this.pos = createVector(random(width), random(height));
        this.vel = p5.Vector.random2D().mult(random(1, 3));
        this.w = 40;
    }

    run() {
        this.pos.add(this.vel);
        if (this.pos.x < 0 || this.pos.x > width) this.vel.x *= -1;
        if (this.pos.y < 0 || this.pos.y > height) this.vel.y *= -1;
    }

    display() {
        push();
        translate(this.pos.x, this.pos.y);
        if (this.vel.x > 0) scale(-1, 1); // æ ¹æ®æ–¹å‘è½¬å‘
        
        fill('#8b5e3c');
        stroke('#3d2b1f');
        strokeWeight(1.5);
        // èº«ä½“
        ellipse(0, 0, 45, 30);
        // è±¡é¼»
        noFill();
        arc(22, 5, 20, 20, PI + HALF_PI, TWO_PI);
        // è…¿
        line(-10, 15, -10, 22);
        line(10, 15, 10, 22);
        // çœ¼
        fill(0); noStroke();
        circle(12, -5, 3);
        pop();
    }
}

class AppleCard {
    constructor(x, y) {
        this.pos = createVector(x, y);
        this.wish = random(wishes);
        this.timer = 150; // æ˜¾ç¤ºæ—¶é•¿
        this.scale = 0;
    }

    update() {
        if (this.scale < 1) this.scale += 0.1;
        this.timer--;
    }

    display() {
        push();
        translate(this.pos.x, this.pos.y);
        scale(this.scale);
        
        // ç»˜åˆ¶æ‰‹ç»˜è‹¹æœ
        fill('#ff6b6b');
        stroke('#3d2b1f');
        strokeWeight(3);
        // è‹¹æœå·¦åŠè¾¹å’Œå³åŠè¾¹
        beginShape();
        curveVertex(0, 50);
        curveVertex(-50, 20);
        curveVertex(-40, -40);
        curveVertex(0, -30);
        curveVertex(40, -40);
        curveVertex(50, 20);
        curveVertex(0, 50);
        endShape(CLOSE);
        
        // è‹¹æœèŒå’Œå¶å­
        stroke('#4a6b5c');
        line(0, -30, 0, -45);
        fill('#a3c4f3'); // å¶å­ç”¨ç‚¹è“è‰²ç‚¹ç¼€
        ellipse(10, -40, 15, 8);
        
        // ç¥ç¦è¯­
        textAlign(CENTER, CENTER);
        noStroke();
        fill(255);
        textSize(16);
        textStyle(BOLD);
        text(this.wish, 0, 5);
        pop();
    }

    isFinished() {
        return this.timer < 0;
    }
}

function windowResized() {
    resizeCanvas(windowWidth, windowHeight);
}
</script>
</body>
</html>
